# Kafka Broker Settings
broker.id=1
listeners=PLAINTEXT://0.0.0.0:9093
advertised.listeners=PLAINTEXT://kafka:9093
listener.security.protocol=PLAINTEXT
log.dirs=/var/lib/kafka/logs
num.network.threads=3
num.io.threads=8
socket.send.buffer.bytes=102400
socket.receive.buffer.bytes=102400
socket.request.max.bytes=104857600  # Max request size allowed by Kafka broker
message.max.bytes=209715200       # Max message size allowed by Kafka broker
replica.fetch.max.bytes=209715200 # Max size for fetching messages by replicas
log.segment.bytes=1073741824      # Segment file size
log.retention.hours=168           # Logs are retained for a week (168 hours)
log.retention.bytes=-1            # No size limit on log retention
log.cleanup.policy=delete         # Delete logs after retention time

# Zookeeper Connection
zookeeper.connect=zookeeper:2181
zookeeper.connection.timeout.ms=6000

# Kafka Topics Settings
num.partitions=1
default.replication.factor=1
log.cleaner.enable=true
log.cleaner.threads=1

# Kafka Connect Settings
confluent.support.metrics.enable=false

# Internal topic settings (used by Kafka Connect)
offsets.topic.replication.factor=1
config.storage.replication.factor=1
status.storage.replication.factor=1

# Kafka Connect settings (can be adjusted as needed)
listeners.internal=INTERNAL://kafka:9092
listener.security.protocol.internal=PLAINTEXT
inter.broker.listener.name=PLAINTEXT
log.retention.check.interval.ms=300000

# Enable topic auto-creation (useful for development)
auto.create.topics.enable=false

# Additional settings for tuning and debugging
log.message.timestamp.type=CreateTime
log.message.timestamp.difference.max.ms=9223372036854775807

# Kafka Network Settings
socket.receive.buffer.bytes=102400
socket.send.buffer.bytes=102400
num.network.threads=3
num.io.threads=8

# Adjustments for larger message sizes
socket.request.max.bytes=104857600   # Max request size (100MB)
message.max.bytes=2097152000  # Set to 2 GB (or larger depending on your needs)
replica.fetch.max.bytes=2097152000  # Set to the same value

# Zookeeper Connection
zookeeper.connect=zookeeper:2181
zookeeper.connection.timeout.ms=6000
jute.maxbuffer=209715200            # Max buffer size for Zookeeper

# Logging Settings (for debugging)
log.dirs=/var/lib/kafka/logs
log.segment.bytes=1073741824
log.retention.hours=168
log.retention.bytes=-1
log.cleanup.policy=delete

# General Settings
num.partitions=1
default.replication.factor=1
log.cleaner.enable=true
log.cleaner.threads=1


